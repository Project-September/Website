{{ define "main" }}
{{ partial "breadcrumb.html" . }}

<section class="news-list">
    <div class="container">
        <header class="section-header">
            <div class="section-header-content">
                <div class="section-title-area">
                    <h1 class="section-title">{{ .Title }}</h1>
                    {{ with .OutputFormats.Get "rss" }}
                    <a href="{{ .Permalink }}" class="rss-link" title="RSS „Éï„Ç£„Éº„Éâ„ÇíË≥ºË™≠" aria-label="RSS „Éï„Ç£„Éº„Éâ„ÇíË≥ºË™≠">
                        <span class="rss-icon">üì°</span>
                        RSS
                    </a>
                    {{ end }}
                </div>
                {{ if .Content }}
                <div class="section-description">{{ .Content }}</div>
                {{ end }}
            </div>
        </header>

        {{ if .Pages }}
        <div class="news-articles">
            {{ range (.Paginate (.Pages.ByDate.Reverse)).Pages }}
            <article class="news-article">
                <div class="article-meta">
                    <time class="article-date" datetime="{{ .Date.Format "2006-01-02" }}">
                        {{ .Date.Format "2006Âπ¥1Êúà2Êó•" }}
                    </time>
                    {{ if .Params.tags }}
                    <div class="article-tags">
                        {{ range .Params.tags }}
                        <span class="tag">{{ . }}</span>
                        {{ end }}
                    </div>
                    {{ end }}
                </div>
                
                <div class="article-content">
                    {{ if .Params.featured_image }}
                    <div class="article-image">
                        <a href="{{ .RelPermalink }}">
                            <img src="{{ .Params.featured_image | relURL }}" 
                                 alt="{{ .Title }}" 
                                 class="img-responsive" 
                                 loading="lazy" 
                                 onerror="handleImageError(this)" />
                        </a>
                    </div>
                    {{ end }}
                    
                    <div class="article-text">
                        <h2 class="article-title">
                            <a href="{{ .RelPermalink }}" class="article-title-link">{{ .Title }}</a>
                        </h2>
                        
                        <div class="article-summary">
                            {{ if .Params.excerpt }}
                                {{ .Params.excerpt | safeHTML }}
                            {{ else }}
                                {{ .Summary | truncate 200 }}
                            {{ end }}
                        </div>
                        
                        <div class="article-actions">
                            <a href="{{ .RelPermalink }}" class="btn btn-primary">Á∂ö„Åç„ÇíË™≠„ÇÄ</a>
                        </div>
                    </div>
                </div>
            </article>
            {{ end }}
        </div>

        <!-- Pagination -->
        {{ if gt .Paginator.TotalPages 1 }}
        <nav class="pagination-nav" aria-label="„Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥">
            <div class="pagination">
                {{ if .Paginator.HasPrev }}
                <a href="{{ .Paginator.Prev.URL }}" class="pagination-link pagination-prev" rel="prev">
                    <span aria-hidden="true">&laquo;</span>
                    <span class="sr-only">Ââç„ÅÆ„Éö„Éº„Ç∏</span>
                </a>
                {{ end }}

                {{ range .Paginator.Pagers }}
                {{ if eq . $.Paginator }}
                <span class="pagination-link pagination-current" aria-current="page">{{ .PageNumber }}</span>
                {{ else }}
                <a href="{{ .URL }}" class="pagination-link">{{ .PageNumber }}</a>
                {{ end }}
                {{ end }}

                {{ if .Paginator.HasNext }}
                <a href="{{ .Paginator.Next.URL }}" class="pagination-link pagination-next" rel="next">
                    <span class="sr-only">Ê¨°„ÅÆ„Éö„Éº„Ç∏</span>
                    <span aria-hidden="true">&raquo;</span>
                </a>
                {{ end }}
            </div>
        </nav>
        {{ end }}

        {{ else }}
        <div class="empty-state">
            <div class="empty-state-content">
                <h3>„Åæ„Å†„Éã„É•„Éº„Çπ„Åå„ÅÇ„Çä„Åæ„Åõ„Çì</h3>
                <p>ÊúÄÊñ∞„ÅÆ„Ç≤„Éº„É†ÊÉÖÂ†±„Å®„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Çí„ÅäÊ•Ω„Åó„Åø„Å´ÔºÅ</p>
            </div>
        </div>
        {{ end }}
    </div>
</section>
{{ end }}